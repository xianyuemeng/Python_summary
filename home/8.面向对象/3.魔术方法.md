常用魔术方法
===

---

> 魔术方法就是一个类/对象中的方法，和普通方法唯一的不同时，普通方法需要调用！而魔术方法是在特定时刻自动触发。


* **__ init __**

    ```py
    初始化魔术方法
    触发时机：初始化对象时触发（不是实例化触发，但是和实例化在一个操作中）
    参数：至少有一个self，接收对象
    返回值：无
    作用：初始化对象的成员
    注意：使用该方式初始化的成员都是直接写入对象当中，类中无法具有
    ```

* **__ new __**

    ```py
    实例化魔术方法
    触发时机： 在实例化对时触发
    参数：至少一个cls 接收当前类
    返回值：必须返回一个对象实例
    作用：实例化对象
    注意：实例化对象是Object类底层实现，其他类继承了Object的__new__才能够实现实例化对象。
    没事别碰这个魔术方法，先触发__new__才会触发__init__
    ```

* **__ del __**

    ```py
    析构魔术方法
    触发时机：当对象没有用（没有任何变量引用）的时候被触发
    参数：一个self 结婚搜对象
    返回值：无
    作用：使用完对象是回收资源
    注意：del不一定会触发当前方法，只有当前对象没有任何变量接收时才会触发
    ```

* **__ call __**

    ```py
    调用对象的魔术方法
    触发时机:将对象当作函数调用时触发 对象()
    参数:至少一个self接收对象，其余根据调用时参数决定
    返回值：根据情况而定
    作用：可以将复杂的步骤进行合并操作，减少调用的步骤，方便使用
    注意：无
    ```

* **__ len __**

    ```py
    触发时机：使用len(对象) 的时候触发
    参数：一个参数self
    返回值：必须是一个整型
    作用：可以设置为检测对象成员个数，但是也可以进行其他任意操作
    注意：返回值必须必须是整数，否则语法报错，另外该要求是格式要求。
    ```

* **__ str __**

    ```py
    触发时机:使用print(对象)或者str(对象)的时候触发
    参数：一个self接收对象
    返回值：必须是字符串类型
    作用：print（对象时）进行操作，得到字符串，通常用于快捷操作
    注意：无
    ```

* **__ repr __**

    ```py
    触发时机:在使用repr(对象)的时候触发
    参数：一个self接收对象
    返回值：必须是字符串
    作用：将对象转使用repr化为字符串时使用，也可以用于快捷操作
    ```

    ```py
    __str__ 和 __repr__ 的区别和联系

    当打印类的实例的时候，会触发这两个函数，当 __str__ 和 __repr__ 同时存在到的时候，
    会先执行 __str__ 的内容，若只有 __repr__ ，就执行 __repr__的内容

    区别： __str__ 是面向用户的，而__repr__ 面向程序员。
    当在交互式命令行中，直接输入实例化的类，只能触发 __repr__ ，__str__不会有反应
    ```

* **__ bool __**

    ```py
    触发时机: 使用bool(对象)的时候触发
    参数：一个self接收对象
    返回值：必须是布尔值
    作用：根据实际情况决定，可以作为快捷方式使用
    注意:仅适合于返回布尔值的操作
    ```

* **__ format __**

    ```py
    触发时机：使用字符串.format(对象)时候触发
    参数：一个self接收对象，一个参数接收format的{}中的格式，例如:>5
    返回值:必须是字符串
    作用：设置对象可以作为format的参数，并且自定义对象格式化的规则
    注意：无
    ```


描述符相关的魔术方法
===

---

* **__ get __**

    ```py
    触发时机：在获取指定描述符操作的成员属性的值的时候触发
    参数：1描述符对象本身，2描述符描述的属性所在的对象，描述符描述的对象的类
    返回值：必须有，不然无法获取相应属性值
    注意：仅在描述符中使用
    ```

* **__ set __**

    ```py
    触发时机：在设置或者添加指定描述符操作的成员属性的时候触发
    参数：1描述符对象本身，2描述符描述的属性所在的对象,3要设置的值
    返回值：无
    注意：仅在描述符中使用
    ```

* **__ delete __**

    ```py
    触发时机：在删除指定描述符操作的成员属性的时候触发
    参数：1描述符对象本身，2描述符描述的属性所在的对象
    返回值：无
    注意：仅在描述符中使用
    ```

# 与属性操作相关的魔术方法

---

* **__ getattr __**

    ```py
    发时机：获取不存在的对象成员时触发
    参数：1接收当前对象的self，一个是获取成员名称的字符串
    返回值：必须有值
    作用:为访问不存在的属性设置值
    注意：getattribute无论何时都会在getattr之前触发，触发了getattribute就不会在触发getattr了
    ```

* **__ getattr __**

    ```py
    触发时机：获取不存在的对象成员时触发
    参数：1接收当前对象的self，一个是获取成员名称的字符串
    返回值：必须有值
    作用:为访问不存在的属性设置值
    注意：getattribute无论何时都会在getattr之前触发，触发了getattribute就不会在触发getattr了
    ```

* **__ setattr __**

    ```py
    触发时机:设置对象成员值的时候触发
    参数:1个当前对象的self,一个是要设置的成员名称字符串,一个是要设置的值
    返回值:无 过程操作
    作用:接管设置操作,可以在设置前之前进行判断验证等行为
    注意:在当前方法中无法使用成员=值的方式直接设置成员，否则会无限递归，必须借助object的设置方法来完成

    object.__setattr__（参数1，参数2，参数3）
    ```

* **__ delattr __**

    ```py
    触发时机：删除对象成员时触发
    参数：一个当前对象的self
    返回值：无
    作用:可以在删除成员时进行验证。
    ```

* **__ getattribute __**

    ```py
    触发时机：使用对象成员时触发，无论成员是否存在
    参数：1个接收当前对象self，一个是获取的成员的名称字符串
    返回值：必须有
    作用：在具有封装操作（私有化时），为程序开部分访问权限使用
    ```

* **__ dir __**

    ```py
    触发时机：dir（对象）的时候触发
    参数:1个接收当前对象self
    返回值：必须为序列类型（列表，元组，集合等，）
    作用：可以自定义成员列表的返回值
    ```

# 运算相关魔术方法(上帝模式)

* ### 比较运算相关魔术方法
    * **__ lt __**

        ```py
        格式：
            def __lt__(self, other):
                return 数据

        特征：
            触发时机：进行小于判断时自动触发
            参数：2个参数第一个是self，第二个判断的第二个对象
            返回值：返回值可以任意类型，推荐布尔值
            作用：定义小于号的行为：x < y 调用 x.lt(y)
        ```

    * **__ le __**

        ```py
        格式：
            def __le__(self):
                return str

        特征：
            触发时机：进行小于等于判断时自动触发
            参数：2个参数第一个是self，第二个判断的第二个对象
            返回值：返回值可以任意类型，推荐布尔值
            作用：定义小于等于号的行为：x <= y 调用 x.le(y)
        ```

    * **__ gt __**

        ```py
        格式：
            def __gt__(self):
                return str

        特征：
            触发时机：进行大于判断时自动触发
            参数：2个参数第一个是self，第二个判断的第二个对象
            返回值：返回值可以任意类型，推荐布尔值
            作用：定义大于号的行为：x > y 调用 x.gt(y)
        ```

    * **__ ge __**

        ```py
        格式：
            def __ge__(self):
                return str

        特征：
            触发时机：进行大于等于判断时自动触发
            参数：2个参数第一个是self，第二个判断的第二个对象
            返回值：返回值可以任意类型，推荐布尔值
            作用：定义大于等于号的行为：x >= y 调用 x.ge(y)
        ```

    * **__ eq __**

        ```py
        格式：
            def __eq__(self):
                return str

        特征：
            触发时机：进行等于判断时自动触发
            参数：2个参数第一个是self，第二个判断的第二个对象
            返回值：返回值可以任意类型，推荐布尔值
            作用：定义大于等于号的行为：x == y 调用 x.eq(y)
        ```

    * **__ ne __**

        ```py
        格式：
        def __ne__(self):
            return str

        特征：
            触发时机：进行不等于判断时自动触发
            参数：2个参数第一个是self，第二个判断的第二个对象
            返回值：返回值可以任意类型，推荐布尔值
            作用：定义不等号的行为：x != y 调用 x.ne(y)
        ```

* ### 算术运算相关魔术方法(正向)

    ```py
    __add__(self, other)           定义加法的行为：+
    __sub__(self, other)           定义减法的行为：-
    __mul__(self, other)           定义乘法的行为：
    __truediv__(self, other)       定义真除法的行为：/
    __floordiv__(self, other)      定义整数除法的行为：//
    __mod__(self, other)           定义取模算法的行为：%
    __divmod__(self, other)        定义当被 divmod() 调用时的行为
    __pow__(self, other[, modulo]) 定义当被 power() 调用或 ** 运算时的行为
    __lshift__(self, other)        定义按位左移位的行为：<<
    __rshift__(self, other)        定义按位右移位的行为：>>
    __and__(self, other)           定义按位与操作的行为：&
    __xor__(self, other)           定义按位异或操作的行为：^
    __or__(self, other)            定义按位或操作的行为：|
    ```

* ### 算术运算相关魔术方法(反向)

    ```py
    __radd__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用
    __rsub__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用
    __rmul__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用
    __rtruediv__(self, other)  与上方相同，当左操作数不支持相应的操作时被调用
    __rfloordiv__(self, other) 与上方相同，当左操作数不支持相应的操作时被调用
    __rmod__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用
    __rdivmod__(self, other)   与上方相同，当左操作数不支持相应的操作时被调用
    __rpow__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用
    __rlshift__(self, other)   与上方相同，当左操作数不支持相应的操作时被调用
    __rrshift__(self, other)   与上方相同，当左操作数不支持相应的操作时被调用
    __rand__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用
    __rxor__(self, other)      与上方相同，当左操作数不支持相应的操作时被调用
    __ror__(self, other)       与上方相同，当左操作数不支持相应的操作时被调用
    ```